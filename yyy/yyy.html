<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>简途旅行</title>
    <meta name="format-detection" content="telephone=no" />
    <meta name="wap-font-scale" content="no">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <link rel="stylesheet" href="/yyy/css/yyy.scss">
</head>
<body>
    <div class="pages" id="pages">
        <!--<div class="audio on"></div>-->
        <!--<audio id="audio" autoplay="" loop="loop" style="display:none" controls="">-->
            <!--<source src="http://www.w3school.com.cn/i/song.mp3" type="audio/mpeg">-->
        <!--</audio>-->
        <div class="page page1 current">
            <div class="page-content">
                <div class="cover hide"></div>
                <div class="cover-content out">
                    <img src="/yyy/images/title.png" alt="">
                </div>
                <img src="/yyy/images/page1-bg.png" class="bg">
                <img src="/yyy/images/dog1.gif" class="dog">
                <img src="/yyy/images/border.png" class="border">
                <div class="bottom">
                    <img src="/yyy/images/bottom_font.png" class="bottom_font png hide">
                    <img src="/yyy/images/bottom_font_move.gif" class="bottom_font gif hide">
                </div>
                <div class="a-first animation1"></div>
                <div class="a-second animation2"></div>
                <div class="a-third animation1"></div>
                <div class="fly_card">
                    <img src="/yyy/images/flyCard/zhi1.png" alt="" class="zhi1" />
                    <img src="/yyy/images/flyCard/zhi2.png" alt="" class="zhi2" />
                    <img src="/yyy/images/flyCard/zhi3.png" alt="" class="zhi3" />
                    <img src="/yyy/images/flyCard/zhi4.png" alt="" class="zhi4" />

                    <div class="meanwhile">
                        <img src="/yyy/images/flyCard/zhi5.png" alt="" class="zhi5" />
                        <img src="/yyy/images/flyCard/zhi6.png" alt="" class="zhi6" />
                        <img src="/yyy/images/flyCard/zhi7.png" alt="" class="zhi7" />
                        <img src="/yyy/images/flyCard/zhi8.png" alt="" class="zhi8" />
                        <img src="/yyy/images/flyCard/zhi9.png" alt="" class="zhi9" />
                        <img src="/yyy/images/flyCard/zhi10.png" alt="" class="zhi10" />
                        <img src="/yyy/images/flyCard/zhi11.png" alt="" class="zhi11" />
                        <img src="/yyy/images/flyCard/zhi12.png" alt="" class="zhi12" />
                        <img src="/yyy/images/flyCard/zhi13.png" alt="" class="zhi13" />
                        <img src="/yyy/images/flyCard/zhi14.png" alt="" class="zhi14" />

                        <img src="/yyy/images/flyCard/zhi5.png" alt="" class="zhi15" />
                        <img src="/yyy/images/flyCard/zhi6.png" alt="" class="zhi16" />
                        <img src="/yyy/images/flyCard/zhi7.png" alt="" class="zhi17" />
                        <img src="/yyy/images/flyCard/zhi8.png" alt="" class="zhi18" />
                        <img src="/yyy/images/flyCard/zhi9.png" alt="" class="zhi19" />
                        <img src="/yyy/images/flyCard/zhi10.png" alt="" class="zhi20" />
                        <!--<img src="/yyy/images/flyCard/zhi11.png" alt="" class="zhi11" />-->
                        <!--<img src="/yyy/images/flyCard/zhi12.png" alt="" class="zhi12" />-->
                        <!--<img src="/yyy/images/flyCard/zhi13.png" alt="" class="zhi13" />-->
                        <!--<img src="/yyy/images/flyCard/zhi14.png" alt="" class="zhi14" />-->
                    </div>
                </div>
            </div>
        </div>

        <div class="page page2">
            <div class="page-content">
                <img src="/yyy/images/page1-bg.png" class="bg">
                <img src="/yyy/images/preVideo/black_people.png" class="black_people">
                <img src="/yyy/images/border.png" class="border">
                <img src="/yyy/images/preVideo/people_card1.png" alt="" class="people_card people_card1">
                <img src="/yyy/images/preVideo/people_card2.png" alt="" class="people_card people_card2">
                <img src="/yyy/images/preVideo/people_card3.png" alt="" class="people_card people_card3">
                <img src="/yyy/images/preVideo/people_card4.png" alt="" class="people_card people_card4">
                <img src="/yyy/images/preVideo/people_card5.png" alt="" class="people_card people_card5">
                <img src="/yyy/images/preVideo/people_card6.png" alt="" class="people_card people_card6">
                <img src="/yyy/images/preVideo/people_card7.png" alt="" class="people_card people_card7">
                <img src="/yyy/images/preVideo/video_font.png" class="video_font out">
                <img src="/yyy/images/preVideo/play.gif" alt="" class="play_btn">
                <div class="bottom">
                    <img src="/yyy/images/preVideo/skipVideo.png" class="bottom_font">
                </div>
                <!--<video style="position: absolute;z-index:100;" src="https://videos.simpletour.com/simpletour_year_mv.mov" controls="controls"></video>-->
            </div>
        </div>

        <div class="page page3 ">
            <div class="page-content">
                <img src="/yyy/images/page1-bg.png" class="bg">
                <img src="/yyy/images/q-1.png" alt="" class="head">
                <img src="/yyy/images/q-2.png" alt="" class="light breath">
                <img src="/yyy/images/border.png" class="border">
                <img src="/yyy/images/q-3.png" class="cloud1 cloud">
                <img src="/yyy/images/q-4.png" class="cloud2 cloud">
                <img src="/yyy/images/q-5.png" class="cloud3 cloud">
            </div>
            <div style="position: absolute;bottom:0;left:0;right:0;">
                <img src="/yyy/images/q-6.png" class="typewriter">
                <img src="/yyy/images/q-7.png" class="left">
                <img src="/yyy/images/q-7.png" class="right">

                <div class="question" id="question1" data-index="1">
                    <img src="/yyy/images/question1.png">
                    <div class="color1 hide"></div>
                    <div class="color2 hide"></div>
                    <div class="first"></div>
                    <div class="second"></div>
                </div>

                <div class="question" id="question2" data-index="2">
                    <img src="/yyy/images/question2.png">
                    <div class="color1 hide"></div>
                    <div class="color2 hide"></div>
                    <div class="first"></div>
                    <div class="second"></div>
                </div>

                <div class="question" id="question3" data-index="3">
                    <img src="/yyy/images/question3.png">
                    <div class="color1 hide"></div>
                    <div class="color2 hide"></div>
                    <div class="first"></div>
                    <div class="second"></div>
                </div>

                <div class="question" id="question4" data-index="4">
                    <img src="/yyy/images/question4.png">
                    <div class="color1 hide"></div>
                    <div class="color2 hide"></div>
                    <div class="first"></div>
                    <div class="second"></div>
                </div>

                <div class="question" id="question5" data-index="5">
                    <img src="/yyy/images/question5.png">
                    <div class="color1 hide"></div>
                    <div class="color2 hide"></div>
                    <div class="first"></div>
                    <div class="second"></div>
                </div>

                <div class="question" id="question6" data-index="6">
                    <img src="/yyy/images/question6.png">
                    <div class="color1 hide"></div>
                    <div class="color2 hide"></div>
                    <div class="first"></div>
                    <div class="second"></div>
                </div>

                <div class="question" id="question7" data-index="7">
                    <img src="/yyy/images/question7.png">
                    <div class="color1 hide"></div>
                    <div class="color2 hide"></div>
                    <div class="first"></div>
                    <div class="second"></div>
                </div>

                <div class="question" id="question8" data-index="8">
                    <img src="/yyy/images/question8.png">
                    <div class="color1 hide"></div>
                    <div class="color2 hide"></div>
                    <div class="first"></div>
                    <div class="second"></div>
                </div>
            </div>
        </div>
    </div>
    <script src="/common/js/zepto.min.js"></script>
    <script>
        (function (doc, win) {
            var docEl = doc.documentElement,
                    resizeEvt = 'orientationchange' in window ? 'orientationchange' : 'resize',
                    recalc = function () {
                        var clientWidth = docEl.clientWidth;
                        if (!clientWidth) return;
                        var style;
                        if (style = document.getElementById("forhtml")) {
                            style.parentNode.removeChild(style);
                        }
                        style = document.createElement("style");
                        style.id = "forhtml";
                        document.head.appendChild(style);
                        style.appendChild(document.createTextNode("html{font-size:" + 20 * (clientWidth / 375) + "px !important;}"));
                    };
            recalc();
            if (!doc.addEventListener) return;
            win.addEventListener(resizeEvt, recalc, false);
            doc.addEventListener('DOMContentLoaded', recalc, false);
        })(document, window);
        $(document).ready(function() {
            var Promise = window.Promise;
            var docWidth = $(document).width()-16;
            var docHeight = $(document).height()-16;
            if(docWidth/docHeight > (723/1170)){
                $(".page-content").css({"height":docHeight+'px',"width":docHeight*723/1170+'px',left:(docWidth-docHeight*723/1170)/2+8+'px'})
            }else{
                $(".page-content").css({"height":docWidth*1170/723+'px',"width":docWidth+'px',top:(docHeight-docWidth*1170/723)/2+8+'px'})
            }
            $('.bottom .png').removeClass('hide').addClass('show');

            function animation($zhi,index) {
                return new Promise(function(resolve, reject) {
                    function move(){
                        $zhi.addClass('rotate'+index);
                        setTimeout(function() {
                            if(index == 5) {
                                $('.meanwhile img').addClass('rotate');
                                resolve();
                            } else if(index == 6) {
                                setTimeout(function() {
                                    $('.cover').removeClass('hide');
                                    $('.cover-content').removeClass('out').addClass('in');
                                    $('.bottom .png').hide();
                                    $('.bottom .gif').removeClass('hide').addClass('show');
                                    resolve();
                                },1000);
                            } else {
                                if(index == 0) {
                                    $('.dog').attr('src','/yyy/images/dog'+(index+1)+'.gif').addClass('wobble');
                                } else {
                                    $('.dog').attr('src','/yyy/images/dog'+(index+1)+'.png').addClass('wobble');
                                }
                                setTimeout(function() {
                                    $('.dog').removeClass('wobble');
                                    // 设置两次直接的间隔
                                    setTimeout(function() {
                                        resolve();
                                    },1000);
                                },100);
                            }
                        },700);
                    }
                    move()
                })
            };
            setTimeout(function(){
                animation($('.zhi1'),1)
                        .then(function(){return animation($('.zhi2'),2) })
                        .then(function(){return animation($('.zhi3'),3) })
                        .then(function(){return animation($('.zhi4'),4) })
                        .then(function(){return animation($('.zhi4'),5) })
                        .then(function(){return animation($('.zhi4'),6) })
                        .then(function() {

                        })
            },3000);

            $('.bottom_font.gif').click(function() {
                $('.page1').removeClass('current').addClass('prev');
                $('.page2').addClass('current');
                setTimeout(function() {
                    $('.black_people').addClass('riseUp');
                    setTimeout(function() {
                        $('.black_people').addClass('animationEnd');
                        $('.bottom')[0].clientLeft;
                        $('.video_font').removeClass('out').addClass('in');
                        var $peopleCard = $('.people_card');
                        $peopleCard.eq(0).addClass('gradual');
                        $peopleCard.eq(2).addClass('gradual');
                        $peopleCard.eq(4).addClass('gradual');
                        $peopleCard.eq(6).addClass('gradual');
                        setTimeout(function() {
                            $peopleCard.eq(1).addClass('gradual');
                            $peopleCard.eq(3).addClass('gradual');
                            $peopleCard.eq(5).addClass('gradual');
                        },1000);
                    },1000);
                },700);
            });

            $('.page2 .bottom').click(function() {
                $('.page2').removeClass('current').addClass('prev');
                $('.page3').addClass('current');
                setTimeout(function() {
                    $('.typewriter').addClass('up');
                    setTimeout(function() {
                        $('.page3 .right').addClass('up');
                        $('.page3 .left').addClass('up');
                        $('.page3 #question1').addClass('up');
                    },500);

                },1000);
            });

            var count = 1;
            function questionAnimation(index) {
                $('.page3 .right').removeClass('exchange');
                $('.page3 .left').removeClass('exchange');
                setTimeout(function(){
                    $('#question'+index).removeClass('up').addClass('down');
                    $('.page3 .right').addClass('exchange');
                    $('.page3 .left').addClass('exchange');
                    setTimeout(function() {
                        $('#question'+(+index+1)).addClass('up');
                        count = 1;
                    },500);
                },500);
            }

            $('.question .first').click(function() {
                if(count === 1) {
                    var $question = $(this).parents('.question');
                    $question.find('.color1').removeClass('hide');
                    count++;
                    questionAnimation($question.attr('data-index'));
                }
            });
            $('.question .second').click(function() {
                if(count === 1) {
                    var $question = $(this).parents('.question');
                    $question.find('.color2').removeClass('hide');
                    count++;
                    questionAnimation($question.attr('data-index'));
                }
            });
        });

    </script>
</body>
</html>